<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.8.0.final using JasperReports Library version 6.8.0-2ed8dfabb690ff337a5797129f2cd92902b0c87b  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Summary_redo" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isSummaryWithPageHeaderAndFooter="true" uuid="9c201c51-fbc9-4f92-8d1e-0e6ad4aa5b6f">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="GTT"/>
	<property name="ireport.jasperserver.url" value="http://apps4.innosysgy.com:8082/jasperserver/"/>
	<property name="ireport.jasperserver.user" value="jasperadmin"/>
	<property name="ireport.jasperserver.report.resource" value="/reports/PeoplePay_Cloud/02_PAYROLL/Monthly_Summary_CrossTable_files/main_jrxml"/>
	<property name="ireport.jasperserver.reportUnit" value="/reports/PeoplePay_Cloud/02_PAYROLL/Monthly_Summary_CrossTable"/>
	<property name="com.jaspersoft.studio.report.unit.description" value="Listing of Employment Classes_Compute _Gross, Earnings and Deductions "/>
	<style name="Crosstab_CH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab_CG" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab_CT" mode="Opaque" backcolor="#005FB3">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab_CD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 1_CH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 1_CG" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 1_CT" mode="Opaque" backcolor="#005FB3">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 1_CD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 2_CH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 2_CG" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 2_CT" mode="Opaque" backcolor="#005FB3">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 2_CD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 3_CH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 3_CG" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 3_CT" mode="Opaque" backcolor="#005FB3">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Crosstab 3_CD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<subDataset name="PayrollDeduction" uuid="55dde48c-efd4-4257-b521-bec3a382a464">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="GTT_PROD"/>
		<queryString language="SQL">
			<![CDATA[select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist
          ,cast(payrolldeduction.deduct_name as Varchar2(56)) as deduction_Name
           ,sum(payrolldeduction.amount_deducted) deduction_amount
    
    from((select id payrolldtl_id, 
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id = 17832
     and 
     earnings_period_id in(select id from pa_pcf_earningperiod 
where start_date between '01-JUN-2021' and '30-JUN-2021'
and org_id = 17832 )  
    ) payrolldtl
    join
    (
    select ppd.pay_slipno,
           ppd.amount_deducted,
           ppd.EXPENSE_CODE,
           (select description from pa_pcf_deductioncode
            where EXPENSE_CODE = ppd.EXPENSE_CODE
            and
            org_id = 17832)deduct_name
    from pa_pmg_payrolldeduction ppd
    where ppd.deduction_type ='EMPLOYEE'
    )payrolldeduction
    on payrolldtl.payrolldtl_id=payrolldeduction.pay_slipno)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist
           ,payrolldeduction.deduct_name,
           payrolldeduction.amount_deducted]]>
		</queryString>
		<field name="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label">
				<![CDATA[PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST]]>
			</property>
		</field>
		<field name="DEDUCTION_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="DEDUCTION_NAME"/>
		</field>
		<field name="DEDUCTION_AMOUNT" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="DEDUCTION_AMOUNT"/>
		</field>
	</subDataset>
	<subDataset name="Deductions" uuid="1db29d86-e1c7-411e-809d-7cda52c4a552">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="GTT"/>
		<parameter name="ORG_ID" class="java.math.BigDecimal"/>
		<parameter name="START_DATE" class="java.lang.String"/>
		<parameter name="END_DATE" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist
          ,cast(payrolldeduction.deduct_name as Varchar2(56)) as deduction_Name
           ,sum(payrolldeduction.amount_deducted) deduction_amount
    
    from((select id payrolldtl_id, 
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id =$P{ORG_ID} 
    and 
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =   $P{ORG_ID}   )  
    )  payrolldtl
    join
    (
    select ppd.pay_slipno,
           ppd.amount_deducted,
           ppd.EXPENSE_CODE,
           (select description from pa_pcf_deductioncode
            where EXPENSE_CODE = ppd.EXPENSE_CODE
            and
            org_id = $P{ORG_ID} )deduct_name
    from pa_pmg_payrolldeduction ppd
    where ppd.deduction_type in ('EMPLOYEE','BOTH')
    and ppd.amount_deducted > 0
    )payrolldeduction
    on payrolldtl.payrolldtl_id=payrolldeduction.pay_slipno)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist
           ,payrolldeduction.deduct_name,
           payrolldeduction.amount_deducted]]>
		</queryString>
		<field name="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name">
				<![CDATA[PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST]]>
			</property>
			<property name="com.jaspersoft.studio.field.label">
				<![CDATA[PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST]]>
			</property>
		</field>
		<field name="DEDUCTION_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="DEDUCTION_NAME"/>
			<property name="com.jaspersoft.studio.field.label" value="DEDUCTION_NAME"/>
		</field>
		<field name="DEDUCTION_AMOUNT" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="DEDUCTION_AMOUNT"/>
			<property name="com.jaspersoft.studio.field.label" value="DEDUCTION_AMOUNT"/>
		</field>
	</subDataset>
	<subDataset name="Nis_And_Paye" uuid="715de500-dc27-4e76-a99d-f73be9b46268">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="GTT"/>
		<parameter name="ORG_ID" class="java.math.BigDecimal"/>
		<parameter name="START_DATE" class="java.lang.String"/>
		<parameter name="END_DATE" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist
        ,cast('PAYE' as Varchar2(56)) as Withholding
        ,sum(payrolldtl.Tax_amount) deduction_amount
    
    from((select id payrolldtl_id,
            case when tax_amount<0 then 0 else tax_amount end tax_amount,
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id =  $P{ORG_ID} 
    and 
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =   $P{ORG_ID}   )  
    )  payrolldtl
)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist

Union
select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist
        ,cast('NIS' as Varchar2(56)) as Withholding
        ,sum(payrolldtl.nis_employee) deduction_amount
    
    from((select id payrolldtl_id,
            nis_employee,
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id =$P{ORG_ID} 
    and 
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =   $P{ORG_ID}   )  
    ) payrolldtl
)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist]]>
		</queryString>
		<field name="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name">
				<![CDATA[PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST]]>
			</property>
			<property name="com.jaspersoft.studio.field.label">
				<![CDATA[PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST]]>
			</property>
		</field>
		<field name="WITHHOLDING" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="WITHHOLDING"/>
			<property name="com.jaspersoft.studio.field.label" value="WITHHOLDING"/>
		</field>
		<field name="DEDUCTION_AMOUNT" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="DEDUCTION_AMOUNT"/>
			<property name="com.jaspersoft.studio.field.label" value="DEDUCTION_AMOUNT"/>
		</field>
	</subDataset>
	<subDataset name="GrandTotal" uuid="dd82585b-3f6f-435a-b9b4-d1d33bb0682c">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="GTT"/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="172"/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="823"/>
		<parameter name="IN_ORG_ID" class="java.math.BigDecimal"/>
		<parameter name="START_DATE" class="java.lang.String"/>
		<parameter name="END_DATE" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[select emp_class,Income_Name, sum(income_amount)
from
( select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist emp_class
          ,cast('EARNINGS' as Varchar2(30)) as Income_Name
           ,sum(payrollincome.income_amount) income_amount
    
    from((select id payrolldtl_id, 
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id = $P{IN_ORG_ID} 
     and  
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =  $P{IN_ORG_ID} )  
    ) payrolldtl
    join
    (
    select ppi.pay_slipno,
           ppi.income_amount,
           ppi.income_code,
           (select description from pa_pcf_incomecode
            where income_code = ppi.income_code
            and
            org_id =  $P{IN_ORG_ID}  ) income_name
    from pa_pmg_payrollincome ppi
    )payrollincome
    on payrolldtl.payrolldtl_id=payrollincome.pay_slipno)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist
           ,payrollincome.income_name,
           payrollincome.income_amount
           
UNION ALL
select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist emp_class
        ,cast('EARNINGS' as Varchar2(30)) as Income_Name
           ,sum(payrolldtl.time_tax_earnings) as income_amount
    
    from((select
            compute_gross_hist,
            employment_class_hist,
--            earnings_period_id
--            period_start,
--            period_end,
            sum(basic_personal_rate) basic_personal_rate,
  sum(case when compute_gross_hist in ('HOURLY_RATE','DAILY_RATE')
	then time_tax_earnings when compute_gross_hist = 'BASIC_PAY' and time_tax_earnings = 0  then round(basic_personal_rate) else time_tax_earnings end
) time_tax_earnings
            
    from
        pa_pmg_payrolldtl
    where 
        org_id =  $P{IN_ORG_ID} 
     and  
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =  $P{IN_ORG_ID} 
and EARNINGS_TYPE ='RG'
)

and compute_gross_hist ='BASIC_PAY'
group by  compute_gross_hist,
            employment_class_hist,
            earnings_period_id
            --,period_start,
            --period_end
    ) payrolldtl)
    group by payrolldtl.employment_class_hist,payrolldtl.compute_gross_hist) group by emp_class,income_Name        
Union
--deductions
select emp_class,deduction_Name, sum(-1*deduction_amount) 
from (
select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist emp_class
          ,cast('DEDUCTION' as Varchar2(56)) as deduction_Name
           ,sum(payrolldeduction.amount_deducted) deduction_amount
    
    from((select id payrolldtl_id, 
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id =$P{IN_ORG_ID}  
     and  
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =  $P{IN_ORG_ID} ) 
    ) payrolldtl
    join
    (
    select ppd.pay_slipno,
           ppd.amount_deducted,
           ppd.EXPENSE_CODE,
           (select description from pa_pcf_deductioncode
            where EXPENSE_CODE = ppd.EXPENSE_CODE
            and
            org_id =$P{IN_ORG_ID}  )deduct_name
    from pa_pmg_payrolldeduction ppd
    where ppd.deduction_type ='EMPLOYEE'
    and ppd.amount_deducted > 0
    )payrolldeduction
    on payrolldtl.payrolldtl_id=payrolldeduction.pay_slipno)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist
     
union
select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist emp_class
        ,cast('DEDUCTION' as Varchar2(56)) as Withholding
        ,sum(payrolldtl.Tax_amount) deduction_amount
    
    from((select id payrolldtl_id,
            case when tax_amount<0 then 0 else tax_amount end tax_amount,
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id =  $P{IN_ORG_ID} 
     and  
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =  $P{IN_ORG_ID} )  
    ) payrolldtl
)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist

Union
select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist emp_class
        ,cast('DEDUCTION' as Varchar2(56)) as Withholding
        ,sum(payrolldtl.nis_employee) deduction_amount
    
    from((select id payrolldtl_id,
            nis_employee,
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id =$P{IN_ORG_ID} 
     and  
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between  $P{START_DATE}  and  $P{END_DATE} 
and org_id =  $P{IN_ORG_ID} )  
    ) payrolldtl
)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist
           
) group by emp_class,deduction_Name]]>
		</queryString>
		<field name="EMP_CLASS" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="EMP_CLASS"/>
			<property name="com.jaspersoft.studio.field.label" value="EMP_CLASS"/>
		</field>
		<field name="INCOME_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="INCOME_NAME"/>
			<property name="com.jaspersoft.studio.field.label" value="INCOME_NAME"/>
		</field>
		<field name="SUM(INCOME_AMOUNT)" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.name" value="SUM(INCOME_AMOUNT)"/>
			<property name="com.jaspersoft.studio.field.label" value="SUM(INCOME_AMOUNT)"/>
		</field>
	</subDataset>
	<parameter name="IN_ORG_ID" class="java.math.BigDecimal"/>
	<parameter name="Start_date" class="java.lang.String"/>
	<parameter name="End_date" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist
          ,cast(payrollincome.income_name as Varchar2(30)) as Income_Name
           ,sum(payrollincome.income_amount) income_amount
    
    from((select id payrolldtl_id, 
            compute_gross_hist,
            employment_class_hist,
            earnings_period_id,
            period_start,
            period_end
    from
        pa_pmg_payrolldtl
    where 
        org_id =  $P{IN_ORG_ID} 
     and 
     earnings_period_id in(select id from pa_pcf_earningperiod 
where 
start_date between $P{Start_date} and  $P{End_date} 
and org_id =   $P{IN_ORG_ID} )  
    ) payrolldtl
    join
    (
    select ppi.pay_slipno,
           ppi.income_amount,
           ppi.income_code,
           (select description from pa_pcf_incomecode
            where income_code = ppi.income_code
            and
            org_id =  $P{IN_ORG_ID} ) income_name
    from pa_pmg_payrollincome ppi
    )payrollincome
    on payrolldtl.payrolldtl_id=payrollincome.pay_slipno)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist
           ,payrollincome.income_name,
           payrollincome.income_amount
           
UNION ALL
select payrolldtl.employment_class_hist ||' '|| payrolldtl.compute_gross_hist
        ,cast('Basic Salary(T)' as Varchar2(30)) as Income_Name
           ,sum(payrolldtl.time_tax_earnings) as income_amount
    
    from((select
            compute_gross_hist,
            employment_class_hist,
--            earnings_period_id
--            period_start,
--            period_end,
            sum(basic_personal_rate) basic_personal_rate,
  sum(case when compute_gross_hist in ('HOURLY_RATE','DAILY_RATE')
	then time_tax_earnings when compute_gross_hist = 'BASIC_PAY' and time_tax_earnings = 0  then round(basic_personal_rate) else time_tax_earnings end
) time_tax_earnings
            
    from
        pa_pmg_payrolldtl
    where 
        org_id =  $P{IN_ORG_ID} 
     and earnings_period_id in (select id from pa_pcf_earningperiod 
where 
start_date between $P{Start_date} and  $P{End_date} 
and org_id =  $P{IN_ORG_ID} 
and EARNINGS_TYPE ='RG'
)

and compute_gross_hist ='BASIC_PAY'
group by  compute_gross_hist,
            employment_class_hist,
            earnings_period_id
            --,period_start,
            --period_end
    ) payrolldtl)
    group by payrolldtl.employment_class_hist
           ,payrolldtl.compute_gross_hist]]>
	</queryString>
	<field name="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name">
			<![CDATA[PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST]]>
		</property>
		<property name="com.jaspersoft.studio.field.label">
			<![CDATA[PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST]]>
		</property>
	</field>
	<field name="INCOME_NAME" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="INCOME_NAME"/>
		<property name="com.jaspersoft.studio.field.label" value="INCOME_NAME"/>
	</field>
	<field name="INCOME_AMOUNT" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="INCOME_AMOUNT"/>
		<property name="com.jaspersoft.studio.field.label" value="INCOME_AMOUNT"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="122" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="800" height="100" uuid="1ca79653-2bc8-45d0-b023-e21cf67975b7"/>
				<subreportParameter name="P_IN_ORG_ID">
					<subreportParameterExpression><![CDATA[$P{IN_ORG_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["repo:LetterHead.jrxml"]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<pageHeader>
		<band height="70">
			<staticText>
				<reportElement x="180" y="10" width="400" height="20" uuid="f2cc7b7c-a66b-44ff-8b3e-42ebba780d74"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Monthly Payoll Summary ]]></text>
			</staticText>
			<textField>
				<reportElement x="180" y="40" width="400" height="30" uuid="c9dfe401-ae99-44a7-be39-90225d3336db"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true" isUnderline="true"/>
				</textElement>
				<textFieldExpression><![CDATA["01- "+ $P{End_date}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<pageFooter>
		<band height="39">
			<frame>
				<reportElement mode="Opaque" x="0" y="15" width="800" height="15" forecolor="#999999" backcolor="#999999" uuid="b6ef31cc-e739-449a-9761-cb682a8dd298"/>
				<textField evaluationTime="Report">
					<reportElement x="760" y="0" width="40" height="15" uuid="2ce69b1e-4319-403a-b83e-5b75ae558acd"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isItalic="true"/>
					</textElement>
					<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="680" y="0" width="80" height="15" uuid="b2a9157e-9838-43b1-bba1-b644d26b2d63"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isItalic="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
				</textField>
				<textField pattern="EEEEE, MMMMM, dd  yyyy">
					<reportElement x="0" y="0" width="279" height="15" uuid="e33971d7-004b-43c2-b948-e5d5039aba7c"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isItalic="true"/>
					</textElement>
					<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</pageFooter>
	<summary>
		<band height="550" splitType="Immediate">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
			<crosstab>
				<reportElement positionType="Float" x="10" y="30" width="800" height="90" isPrintInFirstWholeBand="true" uuid="ebd52134-d70f-4b9d-9ebe-498f12439fbd">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
					<property name="com.jaspersoft.studio.crosstab.style.header" value="Crosstab_CH"/>
					<property name="com.jaspersoft.studio.crosstab.style.group" value="Crosstab_CG"/>
					<property name="com.jaspersoft.studio.crosstab.style.total" value="Crosstab_CT"/>
					<property name="com.jaspersoft.studio.crosstab.style.detail" value="Crosstab_CD"/>
				</reportElement>
				<rowGroup name="INCOME_NAME" width="120" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{INCOME_NAME}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents mode="Opaque" style="Crosstab_CH">
							<textField>
								<reportElement x="0" y="0" width="120" height="20" uuid="31f7fd8d-ee97-4df3-ab86-5ff056410abb">
									<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
								</reportElement>
								<textElement>
									<font size="10" isBold="false"/>
									<paragraph leftIndent="5"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{INCOME_NAME}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents mode="Opaque" style="Crosstab_CT">
							<staticText>
								<reportElement x="0" y="0" width="120" height="30" forecolor="#FFFFFF" uuid="b2ac8765-3363-48d2-a76b-be673cf6a3c4">
									<property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
								</reportElement>
								<textElement>
									<font size="11" isBold="true"/>
									<paragraph leftIndent="5"/>
								</textElement>
								<text><![CDATA[Grand Total]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST" height="40" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents mode="Opaque" style="Crosstab_CH">
							<textField>
								<reportElement x="0" y="0" width="100" height="40" uuid="10b84870-9f09-4184-8e13-652bcf97d520"/>
								<textElement>
									<font size="9" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents mode="Opaque" style="Crosstab_CT">
							<staticText>
								<reportElement x="0" y="0" width="80" height="40" forecolor="#FFFFFF" uuid="3e458104-6762-4e02-9a6c-96ff45515cc4"/>
								<textElement textAlignment="Center">
									<font size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Total]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="INCOME_AMOUNT_MEASURE" class="java.lang.Integer" calculation="Sum">
					<measureExpression><![CDATA[$F{INCOME_AMOUNT}]]></measureExpression>
				</measure>
				<crosstabCell width="100" height="20">
					<cellContents mode="Opaque" style="Crosstab_CD">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="20" uuid="2b7e8fd7-2b8e-49ed-9dd6-7b8832ec3932"/>
							<textElement textAlignment="Center"/>
							<textFieldExpression><![CDATA[$V{INCOME_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="20" columnTotalGroup="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST">
					<cellContents mode="Opaque" style="Crosstab_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="20" forecolor="#FFFFFF" uuid="ad91f9c4-35c4-4e4c-8b53-7f416ea82473"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{INCOME_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="100" height="30" rowTotalGroup="INCOME_NAME">
					<cellContents mode="Opaque" style="Crosstab_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="30" forecolor="#FFFFFF" uuid="75d7c11d-514a-4e0e-a53e-9f6c3b364f2e"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{INCOME_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="30" rowTotalGroup="INCOME_NAME" columnTotalGroup="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST">
					<cellContents mode="Opaque" style="Crosstab_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="30" forecolor="#FFFFFF" uuid="dea3c6b7-67c3-4451-94dc-f5712243e4fc"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{INCOME_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
			<staticText>
				<reportElement x="0" y="0" width="100" height="30" uuid="cb2579df-cb9a-4284-b1be-172a6b4527a7"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Earnings ]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="0" y="170" width="100" height="30" uuid="68a6cf4a-d824-4cb6-bb06-4260c84cbd8f"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Deductions]]></text>
			</staticText>
			<crosstab>
				<reportElement positionType="Float" x="10" y="190" width="790" height="126" uuid="45202cb5-5731-4bdc-8fd4-6c3ba5199ee4">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
					<property name="com.jaspersoft.studio.crosstab.style.header" value="Crosstab 1_CH"/>
					<property name="com.jaspersoft.studio.crosstab.style.group" value="Crosstab 1_CG"/>
					<property name="com.jaspersoft.studio.crosstab.style.total" value="Crosstab 1_CT"/>
					<property name="com.jaspersoft.studio.crosstab.style.detail" value="Crosstab 1_CD"/>
				</reportElement>
				<crosstabDataset>
					<dataset>
						<datasetRun subDataset="Deductions" uuid="94c163e7-b6a8-412a-853c-b3bfba4ea310">
							<datasetParameter name="ORG_ID">
								<datasetParameterExpression><![CDATA[$P{IN_ORG_ID}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="END_DATE">
								<datasetParameterExpression><![CDATA[$P{End_date}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="START_DATE">
								<datasetParameterExpression><![CDATA[$P{Start_date}]]></datasetParameterExpression>
							</datasetParameter>
							<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
						</datasetRun>
					</dataset>
				</crosstabDataset>
				<rowGroup name="DEDUCTION_NAME" width="120" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{DEDUCTION_NAME}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents mode="Opaque" style="Crosstab 1_CH">
							<textField>
								<reportElement x="0" y="0" width="120" height="20" uuid="06ea0483-bc1b-4de2-be50-11267f99b7dc"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$V{DEDUCTION_NAME}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents mode="Opaque" style="Crosstab 1_CT">
							<staticText>
								<reportElement x="0" y="0" width="120" height="20" forecolor="#FFFFFF" uuid="4e492a4e-c8a1-4a72-8e28-453a1eb0a313"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Total DEDUCTION_NAME]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST" height="40" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents mode="Opaque" style="Crosstab 1_CH">
							<textField>
								<reportElement x="0" y="0" width="100" height="40" uuid="faff5d35-cd10-4bad-a7c3-13a8e9e1e7e3"/>
								<textFieldExpression><![CDATA[$V{PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents mode="Opaque" style="Crosstab 1_CT">
							<staticText>
								<reportElement x="0" y="0" width="80" height="40" forecolor="#FFFFFF" uuid="eb3aa93e-2555-486b-80f6-b2f27755b0f3"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Total]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="DEDUCTION_AMOUNT_MEASURE" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{DEDUCTION_AMOUNT}]]></measureExpression>
				</measure>
				<crosstabCell width="100" height="20">
					<cellContents mode="Opaque" style="Crosstab 1_CD">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="20" uuid="81ed5fe3-6210-43ee-a7aa-d663c53053fb"/>
							<textElement textAlignment="Center"/>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="20" columnTotalGroup="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST">
					<cellContents mode="Opaque" style="Crosstab 1_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="20" forecolor="#FFFFFF" uuid="175f3848-3a93-454b-9aae-cb196a40426c"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="100" height="20" rowTotalGroup="DEDUCTION_NAME">
					<cellContents mode="Opaque" style="Crosstab 1_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="20" forecolor="#FFFFFF" uuid="1171dc76-93aa-4ee0-8276-0bbd29e6dfc7"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="20" rowTotalGroup="DEDUCTION_NAME" columnTotalGroup="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST">
					<cellContents mode="Opaque" style="Crosstab 1_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="20" forecolor="#FFFFFF" uuid="ed72fd7e-458b-4ef9-8a80-47862a73ab08"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
			<staticText>
				<reportElement positionType="Float" x="0" y="350" width="100" height="30" uuid="806f92d8-4c53-4dee-9305-0f62494024b9"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Withholdings]]></text>
			</staticText>
			<crosstab>
				<reportElement positionType="Float" x="10" y="370" width="790" height="90" uuid="7927906d-40d0-43eb-9088-ffa652069eb1">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
					<property name="com.jaspersoft.studio.crosstab.style.header" value="Crosstab 2_CH"/>
					<property name="com.jaspersoft.studio.crosstab.style.group" value="Crosstab 2_CG"/>
					<property name="com.jaspersoft.studio.crosstab.style.total" value="Crosstab 2_CT"/>
					<property name="com.jaspersoft.studio.crosstab.style.detail" value="Crosstab 2_CD"/>
				</reportElement>
				<crosstabDataset>
					<dataset>
						<datasetRun subDataset="Nis_And_Paye" uuid="ffe62e56-1bb6-4ea7-810c-496b0ee53fe0">
							<datasetParameter name="END_DATE">
								<datasetParameterExpression><![CDATA[$P{End_date}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="ORG_ID">
								<datasetParameterExpression><![CDATA[$P{IN_ORG_ID}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="START_DATE">
								<datasetParameterExpression><![CDATA[$P{Start_date}]]></datasetParameterExpression>
							</datasetParameter>
							<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
						</datasetRun>
					</dataset>
				</crosstabDataset>
				<rowGroup name="WITHHOLDING" width="130" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{WITHHOLDING}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents mode="Opaque" style="Crosstab 2_CH">
							<textField>
								<reportElement x="0" y="0" width="130" height="20" uuid="9db00d2f-4e9e-45c1-a3db-09ebd6c254e8"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$V{WITHHOLDING}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents mode="Opaque" style="Crosstab 2_CT">
							<staticText>
								<reportElement x="0" y="0" width="130" height="20" forecolor="#FFFFFF" uuid="95b1ee08-8948-45f7-a36d-c35d1ec990d8"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Total WITHHOLDING]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST" height="30" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents mode="Opaque" style="Crosstab 2_CH">
							<textField>
								<reportElement x="0" y="0" width="100" height="30" uuid="956fd8fb-f194-47b6-9553-4eb6c494fbbf"/>
								<textFieldExpression><![CDATA[$V{PAYROLLDTL.EMPLOYMENT_CLASS_HIST||''||PAYROLLDTL.COMPUTE_GROSS_HIST}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents mode="Opaque" style="Crosstab 2_CT">
							<staticText>
								<reportElement x="0" y="0" width="80" height="30" forecolor="#FFFFFF" uuid="3a6e0e8a-6b1d-403c-9f1e-8152f989e3fa"/>
								<textElement textAlignment="Center">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Total]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="DEDUCTION_AMOUNT_MEASURE" class="java.lang.Integer" calculation="Sum">
					<measureExpression><![CDATA[$F{DEDUCTION_AMOUNT}]]></measureExpression>
				</measure>
				<crosstabCell width="100" height="20">
					<cellContents mode="Opaque" style="Crosstab 2_CD">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="20" uuid="30acc29f-1264-4ca7-9ace-f6a362ba84e0"/>
							<textElement textAlignment="Center"/>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="20" columnTotalGroup="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST">
					<cellContents mode="Opaque" style="Crosstab 2_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="20" forecolor="#FFFFFF" uuid="0bfa5fae-6866-4e68-84f2-ea16ed788662"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="100" height="20" rowTotalGroup="WITHHOLDING">
					<cellContents mode="Opaque" style="Crosstab 2_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="20" forecolor="#FFFFFF" uuid="c2e2c842-086c-4047-8e58-8cf91d07b9d6"/>
							<textElement textAlignment="Center"/>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="20" rowTotalGroup="WITHHOLDING" columnTotalGroup="PAYROLLDTL.EMPLOYMENT_CLASS_HIST||&apos;&apos;||PAYROLLDTL.COMPUTE_GROSS_HIST">
					<cellContents mode="Opaque" style="Crosstab 2_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="20" forecolor="#FFFFFF" uuid="8e212182-4f91-47e6-965a-cd36253d22c0"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{DEDUCTION_AMOUNT_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
			<crosstab>
				<reportElement positionType="Float" x="10" y="475" width="790" height="75" uuid="22d50c4c-dbc7-40de-9a3b-c27e85af20ab">
					<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
					<property name="com.jaspersoft.studio.crosstab.style.header" value="Crosstab 3_CH"/>
					<property name="com.jaspersoft.studio.crosstab.style.group" value="Crosstab 3_CG"/>
					<property name="com.jaspersoft.studio.crosstab.style.total" value="Crosstab 3_CT"/>
					<property name="com.jaspersoft.studio.crosstab.style.detail" value="Crosstab 3_CD"/>
				</reportElement>
				<crosstabDataset>
					<dataset>
						<datasetRun subDataset="GrandTotal" uuid="b6251e38-cc66-406b-aa59-9117a722a3d6">
							<datasetParameter name="IN_ORG_ID">
								<datasetParameterExpression><![CDATA[$P{IN_ORG_ID}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="END_DATE">
								<datasetParameterExpression><![CDATA[$P{End_date}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="START_DATE">
								<datasetParameterExpression><![CDATA[$P{Start_date}]]></datasetParameterExpression>
							</datasetParameter>
							<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
						</datasetRun>
					</dataset>
				</crosstabDataset>
				<rowGroup name="INCOME_NAME" width="130" totalPosition="End">
					<bucket order="Descending" class="java.lang.String">
						<bucketExpression><![CDATA[$F{INCOME_NAME}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents mode="Opaque" style="Crosstab 3_CH">
							<textField>
								<reportElement x="0" y="0" width="130" height="20" uuid="ba156fca-3e4e-471f-beb9-d7643640e2af"/>
								<textFieldExpression><![CDATA[$V{INCOME_NAME}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents mode="Opaque" style="Crosstab 3_CT">
							<staticText>
								<reportElement x="0" y="0" width="130" height="20" forecolor="#FFFFFF" uuid="1ecfd350-204f-4378-b369-ade1cfa81761"/>
								<textElement>
									<font size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Total]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="EMP_CLASS" height="30" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{EMP_CLASS}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents mode="Opaque" style="Crosstab 3_CH">
							<textField>
								<reportElement x="0" y="0" width="100" height="30" uuid="1da35c6e-1816-45f2-abaf-6e441a976742"/>
								<textElement>
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{EMP_CLASS}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents mode="Opaque" style="Crosstab 3_CT">
							<staticText>
								<reportElement x="0" y="0" width="80" height="30" forecolor="#FFFFFF" uuid="b0bb936a-bd7d-4f2b-991e-890b5ad1ae8e"/>
								<textElement>
									<font size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Total]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="SUM(INCOME_AMOUNT)_MEASURE" class="java.math.BigDecimal" calculation="Sum">
					<measureExpression><![CDATA[$F{SUM(INCOME_AMOUNT)}]]></measureExpression>
				</measure>
				<crosstabCell width="100" height="20">
					<cellContents mode="Opaque" style="Crosstab 3_CD">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="20" uuid="60e625f2-a6ba-4097-8b0f-9c695b0523df"/>
							<textElement textAlignment="Center"/>
							<textFieldExpression><![CDATA[$V{SUM(INCOME_AMOUNT)_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="20" columnTotalGroup="EMP_CLASS">
					<cellContents mode="Opaque" style="Crosstab 3_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="20" forecolor="#FFFFFF" uuid="21e99d95-d31b-44fe-9566-a53976f5b0af"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{SUM(INCOME_AMOUNT)_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="100" height="20" rowTotalGroup="INCOME_NAME">
					<cellContents mode="Opaque" style="Crosstab 3_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="100" height="20" forecolor="#FFFFFF" uuid="2e95f909-661e-4e79-ab0b-6e0cf979d592"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{SUM(INCOME_AMOUNT)_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="80" height="20" rowTotalGroup="INCOME_NAME" columnTotalGroup="EMP_CLASS">
					<cellContents mode="Opaque" style="Crosstab 3_CT">
						<textField pattern="¤#,##0.##;¤-#,##0.##">
							<reportElement x="0" y="0" width="80" height="20" forecolor="#FFFFFF" uuid="77dfe8cc-404f-4841-9d3b-930a11f8a3ec"/>
							<textElement textAlignment="Center">
								<font isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{SUM(INCOME_AMOUNT)_MEASURE}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
			</crosstab>
			<staticText>
				<reportElement positionType="Float" x="0" y="460" width="100" height="30" uuid="2756367b-b4d3-45c9-b83b-b5bfa0d5d3af"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Grand Total]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
